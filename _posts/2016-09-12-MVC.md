---
layout: post
title: MVC 이해하기
date: 2016-09-12 17:50
categories: web
---


# 1. MVC 아키텍처

![]({{ site.url }}/images/mvc.png)

### 컨트롤러(controller)컴포넌트의 역할

클라이언트의 요청을 받았을 때 그 요청에 대해 실제 업무를 수행하는 모델 컴포넌트를 호출하는 일을 한다. 또 클라이언트가 보낸 데이터가 있다면, 모델을 호출할 때 전달하기 쉽게 데이터를 적절히 가공하는 일을 한다. 모델이 업무를 수행을 완료하면, 그 결과를 가지고 화면을 생성하도록 뷰에게 전달한다. 

즉 클라이언트 요청에 대해 모델과 뷰를 결정하여 전달하는 일을 한다.

### 모델(model)컴포넌트의 역할

데이터 저장소와 연동하여 사용자가 입력한 데이터나 사용자에게 출력할 데이터를 다루는 일을 한다. 특히 여러개의 데이터 변경 작업(추가, 변경, 삭제)을 하나의 작업으로 묵는 트랜잭션을 다루는 일도 한다.


### 뷰(view) 컴포넌트의 역할

모델이 처리한 데이터나 그 작업 결과를 가지고 사용자에게 출력할 화면을 만드는 일을 한다. 이렇게 생성된 화면은 웹브라우저가 출력한다. 

즉 뷰 컴포넌트는 HTML과 CSS, JavaScript를 사용하여 웹 브라우저가 출력할 UI를 만든다.

# 2. MCV의 이점

### 높은 재사용성, 넓은 융통성

* `look and feel`을 쉽게 교채할 수 있다.
* `on source multi use`를 쉽게 구현할 수 있다.
* 코드를 재사용할 수 있다.


### 빠른 개발, 저렴한 비용

* 다른 프로젝트에서도 모델 컴포넌트를 재사용할 수 있기 때문에 개발 속도가 빨라진다.
* 소스 코드를 역할에 따라 여러 컴포넌트로 쪼개게 되면, 그 컴포넌트의 나니도에 따라 좀 더 낮은 수준의 개발자를 투입하여 개발 및 유지보수 비용 감소

# 3. MVC 구동 원리

아래 그림은 클라이언트 요청에서 화면 출력까지 과정을 나타낸다.

![]({{ site.url }}/images/mvca.png)

1. 웹 브라우저가 웹어플리케이션을 실행을 요청하면, 웹서버가 그 요청을 받아서 서블릿 컨테이너에게 넘겨준다. 서블릿 컨테이너는 URL을 확인하여 그 요청을 처리할 서브릿을 찾아 실행한다.
2. 서블릿은 실제 업무를 처리하는 모델 자바 객체의 메서드를 호출한다. 만약 웹 브라우저가 보낸 데이터를 저장하거나 변경해야 한다면 그 데이터를 가공하여 VO(Value Object)를 생성하고, 모델 객체의 메서드를 호출할 때 인자값을 넘긴다.
3. 모델 객체는 JDBC를 사용하여 매개변수로 넘어온 VO를 데이터베이스에 저장하거나, 데이터베이스로부터 질의 결과를 가져와 VO로 만들어 반환한다. 이렇게 VO는 객체와 객체 사이에 데이터를 전달하는 용도로 사용하기 때문에 `데이터 전송객체(DTO : Data Transfer Object)`라고 한다.
4. 서블릿은 모델 객체로부터 반환받은 값을 JSP에 전달한다.
5. JSP는 서블릿으로부터 전달받은 VO를 참조하여 웹브라우저가 출력할 결과 화면을 만들고 웹브라우저에 출력함으로써 요청 처리를 완료한다.
6. 웹브라우저는 서버로부터 받은 응답 내용을 화면에 출력한다.

